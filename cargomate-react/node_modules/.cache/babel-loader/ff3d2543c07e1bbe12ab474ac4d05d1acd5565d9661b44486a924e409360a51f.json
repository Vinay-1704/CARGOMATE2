{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vinay\\\\cargomate2\\\\cargomate-react\\\\src\\\\pages\\\\ShipperDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/shipper-dashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ShipperDashboard() {\n  _s();\n  var _modalState$selectedS, _modalState$selectedS2, _modalState$selectedS3, _modalState$selectedS4;\n  const navigate = useNavigate();\n\n  // Core state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [activeSection, setActiveSection] = useState('dashboard');\n  const [theme, setTheme] = useState('dark');\n  const [userShipments, setUserShipments] = useState([]);\n  const [filteredShipments, setFilteredShipments] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('');\n\n  // Modal states\n  const [modalState, setModalState] = useState({\n    bidsModal: false,\n    tripDetailModal: false,\n    chatModal: false,\n    ratingModal: false,\n    selectedShipment: null,\n    currentBids: []\n  });\n\n  // Other form, chat, rating states (unchanged)...\n\n  const [shipmentForm, setShipmentForm] = useState({\n    fromLocation: '',\n    toLocation: '',\n    packageType: '',\n    packageWeight: '',\n    packageDescription: '',\n    vehicleType: '',\n    pickupDate: '',\n    deliveryDate: '',\n    handlingInstructions: ''\n  });\n  const [chatMessages, setChatMessages] = useState([]);\n  const [messageInput, setMessageInput] = useState('');\n  const [rating, setRating] = useState(0);\n  const [ratingComment, setRatingComment] = useState('');\n  const [stats, setStats] = useState({\n    activeShipments: 0,\n    pendingBids: 0,\n    totalDelivered: 0,\n    totalSpent: 0\n  });\n\n  // Authentication\n  useEffect(() => {\n    checkAuthentication();\n  }, []);\n  useEffect(() => {\n    if (currentUser) {\n      initializeDashboard();\n      loadUserData();\n      const updateInterval = setInterval(checkForUpdates, 2000);\n      const refreshInterval = setInterval(refreshData, 60000);\n      return () => {\n        clearInterval(updateInterval);\n        clearInterval(refreshInterval);\n      };\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (currentUser && userShipments.length >= 0) updateDashboardStats();\n  }, [userShipments, currentUser]);\n  useEffect(() => {\n    if (currentUser && userShipments.length >= 0) saveDemoShipments();\n  }, [userShipments, currentUser]);\n  const checkAuthentication = () => {\n    const token = localStorage.getItem('authToken');\n    const userData = localStorage.getItem('userData');\n    if (!token || !userData) {\n      navigate('/login');\n      return;\n    }\n    try {\n      const user = JSON.parse(userData);\n      if (user.role !== 'shipper') {\n        navigate('/driver-dashboard');\n        return;\n      }\n      setCurrentUser(user);\n    } catch (error) {\n      localStorage.clear();\n      navigate('/login');\n    }\n  };\n  const getInitials = name => (name === null || name === void 0 ? void 0 : name.split(' ').map(n => n[0]).join('').toUpperCase()) || '??';\n  const initializeDashboard = () => {\n    const savedTheme = localStorage.getItem('theme') || 'dark';\n    setTheme(savedTheme);\n    document.body.className = `${savedTheme}-theme`;\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    setShipmentForm(prev => ({\n      ...prev,\n      pickupDate: tomorrow.toISOString().split('T')[0]\n    }));\n  };\n  const loadUserData = async () => {\n    if (!currentUser) return;\n    try {\n      let shipments = getDemoShipments();\n      try {\n        const response = await fetch(`http://localhost:3000/api/shipments/user/${currentUser.id}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n          }\n        });\n        if (response && response.ok) {\n          const data = await response.json();\n          shipments = data.shipments || [];\n        }\n      } catch {}\n      setUserShipments(shipments);\n      setFilteredShipments(shipments);\n    } catch {\n      setUserShipments([]);\n      setFilteredShipments([]);\n    }\n  };\n  const getDemoShipments = () => {\n    const existingDemo = localStorage.getItem(`demoShipments_${currentUser.id}`);\n    return existingDemo ? JSON.parse(existingDemo) : [];\n  };\n  const saveDemoShipments = () => {\n    if (!currentUser) return;\n    localStorage.setItem(`demoShipments_${currentUser.id}`, JSON.stringify(userShipments));\n  };\n  const updateDashboardStats = () => {\n    const activeShipments = userShipments.filter(s => ['active', 'in_transit', 'at_destination'].includes(s.status)).length;\n    const pendingBids = userShipments.filter(s => s.status === 'pending_bids').length;\n    const totalDelivered = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).length;\n    const totalSpent = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).reduce((sum, s) => sum + (s.final_amount || 0), 0);\n    setStats({\n      activeShipments,\n      pendingBids,\n      totalDelivered,\n      totalSpent\n    });\n  };\n  const toggleTheme = () => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    setTheme(newTheme);\n    document.body.className = `${newTheme}-theme`;\n    localStorage.setItem('theme', newTheme);\n  };\n  const logout = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    navigate('/login');\n  };\n  const switchToSection = section => {\n    setActiveSection(section);\n    if (section === 'my-shipments') setFilteredShipments(userShipments);\n  };\n  const refreshData = () => {\n    loadUserData();\n  };\n  const checkForUpdates = () => {\n    if (!currentUser) return;\n    const storedShipments = getDemoShipments();\n    if (JSON.stringify(storedShipments) !== JSON.stringify(userShipments)) setUserShipments(storedShipments);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setShipmentForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleCreateShipment = async e => {\n    e.preventDefault();\n    if (!shipmentForm.fromLocation || !shipmentForm.toLocation || !shipmentForm.packageType || !shipmentForm.packageWeight) {\n      alert('Please fill all required fields');\n      return;\n    }\n    const newShipment = {\n      id: Date.now(),\n      shipment_id: Date.now(),\n      shipper_id: currentUser.id,\n      shipper_name: currentUser.name,\n      shipper_email: currentUser.email,\n      shipper_phone: currentUser.phone,\n      from_location: shipmentForm.fromLocation,\n      to_location: shipmentForm.toLocation,\n      package_type: shipmentForm.packageType,\n      package_weight: parseFloat(shipmentForm.packageWeight),\n      package_description: shipmentForm.packageDescription,\n      vehicle_type: shipmentForm.vehicleType,\n      pickup_date: shipmentForm.pickupDate,\n      delivery_date: shipmentForm.deliveryDate,\n      handling_instructions: shipmentForm.handlingInstructions,\n      status: 'pending_bids',\n      bids_count: 0,\n      created_at: new Date().toISOString()\n    };\n    try {\n      await fetch('http://localhost:3000/api/shipments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: JSON.stringify(newShipment)\n      });\n    } catch {}\n    setUserShipments(prev => [...prev, newShipment]);\n    setShipmentForm({\n      fromLocation: '',\n      toLocation: '',\n      packageType: '',\n      packageWeight: '',\n      packageDescription: '',\n      vehicleType: '',\n      pickupDate: '',\n      deliveryDate: '',\n      handlingInstructions: ''\n    });\n    alert('✅ Shipment created successfully! Drivers can now bid on it.');\n    switchToSection('my-shipments');\n  };\n  const viewBids = async shipment => {\n    try {\n      const response = await fetch(`http://localhost:3000/api/shipments/${shipment.shipment_id}/bids`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response && response.ok) {\n        const data = await response.json();\n        setModalState({\n          ...modalState,\n          bidsModal: true,\n          selectedShipment: shipment,\n          currentBids: data.bids\n        });\n      } else {\n        setModalState({\n          ...modalState,\n          bidsModal: true,\n          selectedShipment: shipment,\n          currentBids: []\n        });\n      }\n    } catch {\n      alert('Failed to load bids. Please try again.');\n    }\n  };\n  const acceptBid = async bid => {\n    var _bid$bid_amount, _bid$driver_id;\n    if (!window.confirm(`Accept bid of ₹${((_bid$bid_amount = bid.bid_amount) !== null && _bid$bid_amount !== void 0 ? _bid$bid_amount : bid.amount).toLocaleString()} from ${((_bid$driver_id = bid.driver_id) === null || _bid$driver_id === void 0 ? void 0 : _bid$driver_id.name) || bid.driver_name}?`)) return;\n    try {\n      const response = await fetch(`http://localhost:3000/api/bids/${bid.bid_id}/accept`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        setModalState({\n          ...modalState,\n          bidsModal: false\n        });\n        alert('Bid accepted! Driver has been notified and trip has been created.');\n        refreshData();\n      } else {\n        alert('Failed to accept bid');\n      }\n    } catch {\n      alert('Network error. Please check your connection.');\n    }\n  };\n  const filterShipmentsByStatus = status => {\n    setStatusFilter(status);\n    if (status === '') setFilteredShipments(userShipments);else setFilteredShipments(userShipments.filter(s => s.status === status));\n  };\n  const openRatingModal = shipment => {\n    setModalState({\n      ...modalState,\n      ratingModal: true,\n      selectedShipment: shipment\n    });\n    setRating(0);\n    setRatingComment('');\n  };\n  const submitRating = () => {\n    if (rating === 0) {\n      alert('Please select a rating');\n      return;\n    }\n    const updatedShipments = userShipments.map(s => s.id === modalState.selectedShipment.id ? {\n      ...s,\n      driver_rating: rating,\n      rating_comment: ratingComment,\n      status: 'completed'\n    } : s);\n    setUserShipments(updatedShipments);\n    setModalState({\n      ...modalState,\n      ratingModal: false\n    });\n    alert('✅ Thank you for your feedback!');\n    refreshData();\n  };\n  const getStatusBadge = status => {\n    const badges = {\n      pending_bids: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-warning\",\n        children: \"Pending Bids\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }, this),\n      active: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-info\",\n        children: \"Active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }, this),\n      in_transit: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-primary\",\n        children: \"In Transit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 19\n      }, this),\n      at_destination: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-primary\",\n        children: \"At Destination\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 23\n      }, this),\n      delivered: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-success\",\n        children: \"Delivered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 18\n      }, this),\n      completed: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-success\",\n        children: \"Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 18\n      }, this),\n      cancelled: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-error\",\n        children: \"Cancelled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 18\n      }, this)\n    };\n    return badges[status] || /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"badge\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 30\n    }, this);\n  };\n  const getVehicleTypeText = type => {\n    const types = {\n      small_truck: 'Small Truck',\n      medium_truck: 'Medium Truck',\n      large_truck: 'Large Truck',\n      trailer: 'Trailer',\n      pickup: 'Pickup Truck',\n      van: 'Van'\n    };\n    return types[type] || type;\n  };\n  if (!currentUser) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-spinner\",\n    children: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-spinner fa-spin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 61\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: modalState.bidsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setModalState({\n        ...modalState,\n        bidsModal: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Driver Bids\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setModalState({\n              ...modalState,\n              bidsModal: false\n            }),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shipment-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Route:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 20\n              }, this), \" \", (_modalState$selectedS = modalState.selectedShipment) === null || _modalState$selectedS === void 0 ? void 0 : _modalState$selectedS.from_location, \" \\u2192 \", (_modalState$selectedS2 = modalState.selectedShipment) === null || _modalState$selectedS2 === void 0 ? void 0 : _modalState$selectedS2.to_location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Package:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 20\n              }, this), \" \", (_modalState$selectedS3 = modalState.selectedShipment) === null || _modalState$selectedS3 === void 0 ? void 0 : _modalState$selectedS3.package_type, \" (\", (_modalState$selectedS4 = modalState.selectedShipment) === null || _modalState$selectedS4 === void 0 ? void 0 : _modalState$selectedS4.package_weight, \"kg)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), modalState.currentBids.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bids-list\",\n            children: modalState.currentBids.map((bid, index) => {\n              var _bid$driver_id2, _bid$driver_id3, _bid$driver_rating, _ref, _bid$amount;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `bid-card ${index === 0 ? 'best-bid' : ''}`,\n                style: {\n                  border: index === 0 ? '2px solid #13d837' : '1px solid #222',\n                  background: '#17222b',\n                  borderRadius: '16px',\n                  marginBottom: '1.2rem',\n                  boxShadow: index === 0 ? '0 0 22px #16e03330' : '0 1px 4px #111',\n                  padding: '22px 26px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginBottom: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: '#13d837',\n                      fontSize: 20,\n                      width: 46,\n                      height: 46,\n                      borderRadius: 23,\n                      color: '#222',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontWeight: 700,\n                      marginRight: 18\n                    },\n                    children: (((_bid$driver_id2 = bid.driver_id) === null || _bid$driver_id2 === void 0 ? void 0 : _bid$driver_id2.name) || bid.driver_name || 'D')[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 700,\n                        fontSize: 18,\n                        color: '#fff'\n                      },\n                      children: ((_bid$driver_id3 = bid.driver_id) === null || _bid$driver_id3 === void 0 ? void 0 : _bid$driver_id3.name) || bid.driver_name || 'Unknown Driver'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: 14,\n                        color: '#ccb55b',\n                        marginTop: 2\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: 15,\n                          marginRight: 5\n                        },\n                        children: \"\\u2B50\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 29\n                      }, this), (_bid$driver_rating = bid.driver_rating) !== null && _bid$driver_rating !== void 0 ? _bid$driver_rating : '4.5', \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#aaa',\n                          marginLeft: 10\n                        },\n                        children: \"Experience: 0 months\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 58\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 25\n                  }, this), index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: '#16e033',\n                      color: '#222',\n                      fontWeight: 700,\n                      padding: '2px 22px',\n                      borderRadius: '1rem',\n                      marginLeft: 'auto',\n                      fontSize: 13,\n                      textTransform: 'uppercase'\n                    },\n                    children: \"Lowest Bid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#29fd71',\n                    fontSize: 28,\n                    fontWeight: 800,\n                    margin: '9px 0 5px 0'\n                  },\n                  children: [\"\\u20B9\", ((_ref = (_bid$amount = bid.amount) !== null && _bid$amount !== void 0 ? _bid$amount : bid.bid_amount) !== null && _ref !== void 0 ? _ref : 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#aaa',\n                    marginBottom: 6\n                  },\n                  children: [\"Vehicle: \", bid.vehicle_type || 'Small Truck', \" (\", bid.vehicle_number || '', \")\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: 24\n                    },\n                    children: [\"License: \", bid.license_number || bid.license || '---']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#aaa',\n                    fontSize: 14,\n                    marginBottom: 6\n                  },\n                  children: [\"Bid Time:\", ' ', bid.createdat ? new Date(bid.createdat).toLocaleString() : bid.created_at ? new Date(bid.created_at).toLocaleString() : \"Unknown\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), bid.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    borderLeft: '4px solid #16e033',\n                    margin: '10px 0 16px 0',\n                    color: '#9dffb5',\n                    background: '#16291d',\n                    padding: '7px 18px',\n                    borderRadius: '8px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: bid.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    marginTop: 12\n                  },\n                  children: [bid.status === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-success\",\n                    style: {\n                      minWidth: 180\n                    },\n                    onClick: () => acceptBid(bid),\n                    children: \"\\u2713 Accept This Bid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this), bid.status === 'accepted' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-success\",\n                    children: \"Accepted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 23\n                }, this)]\n              }, bid.id || bid.bid_id || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-clipboard-list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Bids Yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drivers will place bids on this shipment soon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(ShipperDashboard, \"dGER9fEtD8Sm5dbF5TM+MOn1ZzM=\", false, function () {\n  return [useNavigate];\n});\n_c = ShipperDashboard;\nexport default ShipperDashboard;\nvar _c;\n$RefreshReg$(_c, \"ShipperDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","ShipperDashboard","_s","_modalState$selectedS","_modalState$selectedS2","_modalState$selectedS3","_modalState$selectedS4","navigate","currentUser","setCurrentUser","activeSection","setActiveSection","theme","setTheme","userShipments","setUserShipments","filteredShipments","setFilteredShipments","statusFilter","setStatusFilter","modalState","setModalState","bidsModal","tripDetailModal","chatModal","ratingModal","selectedShipment","currentBids","shipmentForm","setShipmentForm","fromLocation","toLocation","packageType","packageWeight","packageDescription","vehicleType","pickupDate","deliveryDate","handlingInstructions","chatMessages","setChatMessages","messageInput","setMessageInput","rating","setRating","ratingComment","setRatingComment","stats","setStats","activeShipments","pendingBids","totalDelivered","totalSpent","checkAuthentication","initializeDashboard","loadUserData","updateInterval","setInterval","checkForUpdates","refreshInterval","refreshData","clearInterval","length","updateDashboardStats","saveDemoShipments","token","localStorage","getItem","userData","user","JSON","parse","role","error","clear","getInitials","name","split","map","n","join","toUpperCase","savedTheme","document","body","className","tomorrow","Date","setDate","getDate","prev","toISOString","shipments","getDemoShipments","response","fetch","id","headers","ok","data","json","existingDemo","setItem","stringify","filter","s","includes","status","reduce","sum","final_amount","toggleTheme","newTheme","logout","removeItem","switchToSection","section","storedShipments","handleInputChange","e","value","target","handleCreateShipment","preventDefault","alert","newShipment","now","shipment_id","shipper_id","shipper_name","shipper_email","email","shipper_phone","phone","from_location","to_location","package_type","package_weight","parseFloat","package_description","vehicle_type","pickup_date","delivery_date","handling_instructions","bids_count","created_at","method","viewBids","shipment","bids","acceptBid","bid","_bid$bid_amount","_bid$driver_id","window","confirm","bid_amount","amount","toLocaleString","driver_id","driver_name","bid_id","filterShipmentsByStatus","openRatingModal","submitRating","updatedShipments","driver_rating","rating_comment","getStatusBadge","badges","pending_bids","children","fileName","_jsxFileName","lineNumber","columnNumber","active","in_transit","at_destination","delivered","completed","cancelled","getVehicleTypeText","type","types","small_truck","medium_truck","large_truck","trailer","pickup","van","onClick","stopPropagation","index","_bid$driver_id2","_bid$driver_id3","_bid$driver_rating","_ref","_bid$amount","style","border","background","borderRadius","marginBottom","boxShadow","padding","display","alignItems","fontSize","width","height","color","justifyContent","fontWeight","marginRight","marginTop","marginLeft","textTransform","margin","vehicle_number","license_number","license","createdat","message","borderLeft","minWidth","_c","$RefreshReg$"],"sources":["C:/Users/Vinay/cargomate2/cargomate-react/src/pages/ShipperDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/shipper-dashboard.css';\r\n\r\nfunction ShipperDashboard() {\r\n  const navigate = useNavigate();\r\n\r\n  // Core state\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [activeSection, setActiveSection] = useState('dashboard');\r\n  const [theme, setTheme] = useState('dark');\r\n  const [userShipments, setUserShipments] = useState([]);\r\n  const [filteredShipments, setFilteredShipments] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n\r\n  // Modal states\r\n  const [modalState, setModalState] = useState({\r\n    bidsModal: false,\r\n    tripDetailModal: false,\r\n    chatModal: false,\r\n    ratingModal: false,\r\n    selectedShipment: null,\r\n    currentBids: []\r\n  });\r\n\r\n  // Other form, chat, rating states (unchanged)...\r\n\r\n  const [shipmentForm, setShipmentForm] = useState({\r\n    fromLocation: '',\r\n    toLocation: '',\r\n    packageType: '',\r\n    packageWeight: '',\r\n    packageDescription: '',\r\n    vehicleType: '',\r\n    pickupDate: '',\r\n    deliveryDate: '',\r\n    handlingInstructions: ''\r\n  });\r\n\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [messageInput, setMessageInput] = useState('');\r\n  const [rating, setRating] = useState(0);\r\n  const [ratingComment, setRatingComment] = useState('');\r\n  const [stats, setStats] = useState({\r\n    activeShipments: 0,\r\n    pendingBids: 0,\r\n    totalDelivered: 0,\r\n    totalSpent: 0\r\n  });\r\n\r\n  // Authentication\r\n  useEffect(() => {\r\n    checkAuthentication();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      initializeDashboard();\r\n      loadUserData();\r\n      const updateInterval = setInterval(checkForUpdates, 2000);\r\n      const refreshInterval = setInterval(refreshData, 60000);\r\n      return () => {\r\n        clearInterval(updateInterval);\r\n        clearInterval(refreshInterval);\r\n      };\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser && userShipments.length >= 0) updateDashboardStats();\r\n  }, [userShipments, currentUser]);\r\n  useEffect(() => {\r\n    if (currentUser && userShipments.length >= 0) saveDemoShipments();\r\n  }, [userShipments, currentUser]);\r\n\r\n  const checkAuthentication = () => {\r\n    const token = localStorage.getItem('authToken');\r\n    const userData = localStorage.getItem('userData');\r\n    if (!token || !userData) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    try {\r\n      const user = JSON.parse(userData);\r\n      if (user.role !== 'shipper') {\r\n        navigate('/driver-dashboard');\r\n        return;\r\n      }\r\n      setCurrentUser(user);\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      navigate('/login');\r\n    }\r\n  };\r\n  const getInitials = name => name?.split(' ').map(n => n[0]).join('').toUpperCase() || '??';\r\n  const initializeDashboard = () => {\r\n    const savedTheme = localStorage.getItem('theme') || 'dark';\r\n    setTheme(savedTheme);\r\n    document.body.className = `${savedTheme}-theme`;\r\n    const tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1);\r\n    setShipmentForm(prev => ({ ...prev, pickupDate: tomorrow.toISOString().split('T')[0] }));\r\n  };\r\n  const loadUserData = async () => {\r\n    if (!currentUser) return;\r\n    try {\r\n      let shipments = getDemoShipments();\r\n      try {\r\n        const response = await fetch(`http://localhost:3000/api/shipments/user/${currentUser.id}`, {\r\n          headers: { 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n        });\r\n        if (response && response.ok) {\r\n          const data = await response.json();\r\n          shipments = data.shipments || [];\r\n        }\r\n      } catch {}\r\n      setUserShipments(shipments);\r\n      setFilteredShipments(shipments);\r\n    } catch {\r\n      setUserShipments([]); setFilteredShipments([]);\r\n    }\r\n  };\r\n  const getDemoShipments = () => {\r\n    const existingDemo = localStorage.getItem(`demoShipments_${currentUser.id}`);\r\n    return existingDemo ? JSON.parse(existingDemo) : [];\r\n  };\r\n  const saveDemoShipments = () => {\r\n    if (!currentUser) return;\r\n    localStorage.setItem(`demoShipments_${currentUser.id}`, JSON.stringify(userShipments));\r\n  };\r\n  const updateDashboardStats = () => {\r\n    const activeShipments = userShipments.filter(s => ['active', 'in_transit', 'at_destination'].includes(s.status)).length;\r\n    const pendingBids = userShipments.filter(s => s.status === 'pending_bids').length;\r\n    const totalDelivered = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).length;\r\n    const totalSpent = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).reduce((sum, s) => sum + (s.final_amount || 0), 0);\r\n    setStats({ activeShipments, pendingBids, totalDelivered, totalSpent });\r\n  };\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\r\n    setTheme(newTheme); document.body.className = `${newTheme}-theme`;\r\n    localStorage.setItem('theme', newTheme);\r\n  };\r\n  const logout = () => { localStorage.removeItem('authToken'); localStorage.removeItem('userData'); navigate('/login'); };\r\n  const switchToSection = section => {\r\n    setActiveSection(section);\r\n    if (section === 'my-shipments') setFilteredShipments(userShipments);\r\n  };\r\n  const refreshData = () => { loadUserData(); };\r\n  const checkForUpdates = () => {\r\n    if (!currentUser) return;\r\n    const storedShipments = getDemoShipments();\r\n    if (JSON.stringify(storedShipments) !== JSON.stringify(userShipments)) setUserShipments(storedShipments);\r\n  };\r\n  const handleInputChange = e => { const { name, value } = e.target; setShipmentForm(prev => ({ ...prev, [name]: value })); };\r\n  const handleCreateShipment = async e => {\r\n    e.preventDefault();\r\n    if (!shipmentForm.fromLocation || !shipmentForm.toLocation || !shipmentForm.packageType || !shipmentForm.packageWeight) {\r\n      alert('Please fill all required fields'); return;\r\n    }\r\n    const newShipment = {\r\n      id: Date.now(),\r\n      shipment_id: Date.now(),\r\n      shipper_id: currentUser.id,\r\n      shipper_name: currentUser.name,\r\n      shipper_email: currentUser.email,\r\n      shipper_phone: currentUser.phone,\r\n      from_location: shipmentForm.fromLocation,\r\n      to_location: shipmentForm.toLocation,\r\n      package_type: shipmentForm.packageType,\r\n      package_weight: parseFloat(shipmentForm.packageWeight),\r\n      package_description: shipmentForm.packageDescription,\r\n      vehicle_type: shipmentForm.vehicleType,\r\n      pickup_date: shipmentForm.pickupDate,\r\n      delivery_date: shipmentForm.deliveryDate,\r\n      handling_instructions: shipmentForm.handlingInstructions,\r\n      status: 'pending_bids',\r\n      bids_count: 0,\r\n      created_at: new Date().toISOString(),\r\n    };\r\n    try {\r\n      await fetch('http://localhost:3000/api/shipments', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${localStorage.getItem('authToken')}` },\r\n        body: JSON.stringify(newShipment)\r\n      });\r\n    } catch {}\r\n    setUserShipments(prev => [...prev, newShipment]);\r\n    setShipmentForm({\r\n      fromLocation: '', toLocation: '', packageType: '', packageWeight: '', packageDescription: '', vehicleType: '',\r\n      pickupDate: '', deliveryDate: '', handlingInstructions: ''\r\n    });\r\n    alert('✅ Shipment created successfully! Drivers can now bid on it.');\r\n    switchToSection('my-shipments');\r\n  };\r\n  const viewBids = async shipment => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/api/shipments/${shipment.shipment_id}/bids`, {\r\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      if (response && response.ok) {\r\n        const data = await response.json();\r\n        setModalState({ ...modalState, bidsModal: true, selectedShipment: shipment, currentBids: data.bids });\r\n      } else {\r\n        setModalState({ ...modalState, bidsModal: true, selectedShipment: shipment, currentBids: [] });\r\n      }\r\n    } catch { alert('Failed to load bids. Please try again.'); }\r\n  };\r\n  const acceptBid = async bid => {\r\n    if (!window.confirm(`Accept bid of ₹${(bid.bid_amount ?? bid.amount).toLocaleString()} from ${bid.driver_id?.name || bid.driver_name}?`)) return;\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/api/bids/${bid.bid_id}/accept`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      if (response.ok) {\r\n        setModalState({ ...modalState, bidsModal: false });\r\n        alert('Bid accepted! Driver has been notified and trip has been created.');\r\n        refreshData();\r\n      } else { alert('Failed to accept bid'); }\r\n    } catch { alert('Network error. Please check your connection.'); }\r\n  };\r\n  const filterShipmentsByStatus = status => {\r\n    setStatusFilter(status);\r\n    if (status === '') setFilteredShipments(userShipments);\r\n    else setFilteredShipments(userShipments.filter(s => s.status === status));\r\n  };\r\n  const openRatingModal = shipment => {\r\n    setModalState({ ...modalState, ratingModal: true, selectedShipment: shipment });\r\n    setRating(0);\r\n    setRatingComment('');\r\n  };\r\n  const submitRating = () => {\r\n    if (rating === 0) {\r\n      alert('Please select a rating'); return;\r\n    }\r\n    const updatedShipments = userShipments.map(s =>\r\n      s.id === modalState.selectedShipment.id\r\n        ? { ...s, driver_rating: rating, rating_comment: ratingComment, status: 'completed' }\r\n        : s\r\n    );\r\n    setUserShipments(updatedShipments);\r\n    setModalState({ ...modalState, ratingModal: false });\r\n    alert('✅ Thank you for your feedback!');\r\n    refreshData();\r\n  };\r\n\r\n  const getStatusBadge = status => {\r\n    const badges = {\r\n      pending_bids: <span className=\"badge badge-warning\">Pending Bids</span>,\r\n      active: <span className=\"badge badge-info\">Active</span>,\r\n      in_transit: <span className=\"badge badge-primary\">In Transit</span>,\r\n      at_destination: <span className=\"badge badge-primary\">At Destination</span>,\r\n      delivered: <span className=\"badge badge-success\">Delivered</span>,\r\n      completed: <span className=\"badge badge-success\">Completed</span>,\r\n      cancelled: <span className=\"badge badge-error\">Cancelled</span>\r\n    };\r\n    return badges[status] || <span className=\"badge\">{status}</span>;\r\n  };\r\n  const getVehicleTypeText = type => {\r\n    const types = {\r\n      small_truck: 'Small Truck',\r\n      medium_truck: 'Medium Truck',\r\n      large_truck: 'Large Truck',\r\n      trailer: 'Trailer',\r\n      pickup: 'Pickup Truck',\r\n      van: 'Van'\r\n    };\r\n    return types[type] || type;\r\n  };\r\n\r\n  if (!currentUser) return <div className=\"loading-spinner\"><i className=\"fas fa-spinner fa-spin\"></i></div>;\r\n\r\n  return (\r\n    <>\r\n      {/* ...HEADER and MAIN DASHBOARD area unchanged... */}\r\n      {/* ...Same as your original code... */}\r\n\r\n      {/* Bids Modal */}\r\n      {modalState.bidsModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setModalState({ ...modalState, bidsModal: false })}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Driver Bids</h2>\r\n              <button className=\"close-btn\" onClick={() => setModalState({ ...modalState, bidsModal: false })}>\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"shipment-details\">\r\n                <p><strong>Route:</strong> {modalState.selectedShipment?.from_location} → {modalState.selectedShipment?.to_location}</p>\r\n                <p><strong>Package:</strong> {modalState.selectedShipment?.package_type} ({modalState.selectedShipment?.package_weight}kg)</p>\r\n              </div>\r\n              {modalState.currentBids.length > 0 ? (\r\n                <div className=\"bids-list\">\r\n                  {modalState.currentBids.map((bid, index) => (\r\n                    <div key={bid.id || bid.bid_id || index}\r\n                      className={`bid-card ${index === 0 ? 'best-bid' : ''}`}\r\n                      style={{\r\n                        border: index === 0 ? '2px solid #13d837' : '1px solid #222', background: '#17222b', borderRadius: '16px', marginBottom: '1.2rem', boxShadow: index === 0 ? '0 0 22px #16e03330' : '0 1px 4px #111', padding: '22px 26px'\r\n                      }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\r\n                        <div style={{\r\n                          background: '#13d837', fontSize: 20, width: 46, height: 46, borderRadius: 23, color: '#222', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 700, marginRight: 18\r\n                        }}>{(bid.driver_id?.name || bid.driver_name || 'D')[0]}</div>\r\n                        <div>\r\n                          <div style={{ fontWeight: 700, fontSize: 18, color: '#fff' }}>\r\n                            {bid.driver_id?.name || bid.driver_name || 'Unknown Driver'}\r\n                          </div>\r\n                          <div style={{ fontSize: 14, color: '#ccb55b', marginTop: 2 }}>\r\n                            <span style={{ fontSize: 15, marginRight: 5 }}>⭐</span>\r\n                            {bid.driver_rating ?? '4.5'} <span style={{ color: '#aaa', marginLeft: 10 }}>Experience: 0 months</span>\r\n                          </div>\r\n                        </div>\r\n                        {index === 0 && <div style={{ background: '#16e033', color: '#222', fontWeight: 700, padding: '2px 22px', borderRadius: '1rem', marginLeft: 'auto', fontSize: 13, textTransform: 'uppercase' }}>Lowest Bid</div>}\r\n                      </div>\r\n                      <div style={{ color: '#29fd71', fontSize: 28, fontWeight: 800, margin: '9px 0 5px 0' }}>₹{(bid.amount ?? bid.bid_amount ?? 0).toLocaleString()}</div>\r\n                      <div style={{ color: '#aaa', marginBottom: 6 }}>\r\n                        Vehicle: {bid.vehicle_type || 'Small Truck'} ({bid.vehicle_number || ''})\r\n                        <span style={{ marginLeft: 24 }}>License: {bid.license_number || bid.license || '---'}</span>\r\n                      </div>\r\n                      <div style={{ color: '#aaa', fontSize: 14, marginBottom: 6 }}>\r\n                        Bid Time:{' '}\r\n                        {bid.createdat\r\n                          ? new Date(bid.createdat).toLocaleString()\r\n                          : bid.created_at\r\n                            ? new Date(bid.created_at).toLocaleString()\r\n                            : \"Unknown\"}\r\n                      </div>\r\n                      {bid.message && <div style={{\r\n                        borderLeft: '4px solid #16e033',\r\n                        margin: '10px 0 16px 0', color: '#9dffb5', background: '#16291d', padding: '7px 18px', borderRadius: '8px'\r\n                      }}>\r\n                        <em>{bid.message}</em>\r\n                      </div>}\r\n                      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', marginTop: 12 }}>\r\n                        {bid.status === 'pending' && (\r\n                          <button className=\"btn btn-success\" style={{ minWidth: 180 }} onClick={() => acceptBid(bid)}>\r\n                            ✓ Accept This Bid\r\n                          </button>\r\n                        )}\r\n                        {bid.status === 'accepted' && (\r\n                          <span className=\"badge badge-success\">Accepted</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"empty-state\">\r\n                  <i className=\"fas fa-clipboard-list\"></i>\r\n                  <h3>No Bids Yet</h3>\r\n                  <p>Drivers will place bids on this shipment soon</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ...Rating Modal and other UI unchanged... */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ShipperDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}