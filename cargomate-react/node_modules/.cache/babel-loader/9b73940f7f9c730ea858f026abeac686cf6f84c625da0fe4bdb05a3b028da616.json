{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vinay\\\\cargomate2\\\\cargomate-react\\\\src\\\\pages\\\\ShipperDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/shipper-dashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ShipperDashboard() {\n  _s();\n  var _modalState$selectedS, _modalState$selectedS2, _modalState$selectedS3, _modalState$selectedS4;\n  const navigate = useNavigate();\n\n  // Core state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [activeSection, setActiveSection] = useState('dashboard');\n  const [theme, setTheme] = useState('dark');\n  const [userShipments, setUserShipments] = useState([]);\n  const [filteredShipments, setFilteredShipments] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('');\n  const [modalState, setModalState] = useState({\n    bidsModal: false,\n    tripDetailModal: false,\n    chatModal: false,\n    ratingModal: false,\n    selectedShipment: null,\n    currentBids: []\n  });\n  const [shipmentForm, setShipmentForm] = useState({\n    fromLocation: '',\n    toLocation: '',\n    packageType: '',\n    packageWeight: '',\n    packageDescription: '',\n    vehicleType: '',\n    pickupDate: '',\n    deliveryDate: '',\n    handlingInstructions: ''\n  });\n  const [stats, setStats] = useState({\n    activeShipments: 0,\n    pendingBids: 0,\n    totalDelivered: 0,\n    totalSpent: 0\n  });\n  const [rating, setRating] = useState(0);\n  const [ratingComment, setRatingComment] = useState('');\n  useEffect(() => {\n    checkAuthentication();\n  }, []);\n  useEffect(() => {\n    if (currentUser) {\n      initializeDashboard();\n      loadUserData();\n      const updateInterval = setInterval(checkForUpdates, 2000);\n      const refreshInterval = setInterval(refreshData, 60000);\n      return () => {\n        clearInterval(updateInterval);\n        clearInterval(refreshInterval);\n      };\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (currentUser && userShipments.length >= 0) updateDashboardStats();\n  }, [userShipments, currentUser]);\n  useEffect(() => {\n    if (currentUser && userShipments.length >= 0) saveDemoShipments();\n  }, [userShipments, currentUser]);\n  const checkAuthentication = () => {\n    const token = localStorage.getItem('authToken');\n    const userData = localStorage.getItem('userData');\n    if (!token || !userData) {\n      navigate('/login');\n      return;\n    }\n    try {\n      const user = JSON.parse(userData);\n      if (user.role !== 'shipper') {\n        navigate('/driver-dashboard');\n        return;\n      }\n      setCurrentUser(user);\n    } catch (error) {\n      localStorage.clear();\n      navigate('/login');\n    }\n  };\n  const getInitials = name => (name === null || name === void 0 ? void 0 : name.split(' ').map(n => n[0]).join('').toUpperCase()) || '??';\n  const initializeDashboard = () => {\n    const savedTheme = localStorage.getItem('theme') || 'dark';\n    setTheme(savedTheme);\n    document.body.className = `${savedTheme}-theme`;\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    setShipmentForm(prev => ({\n      ...prev,\n      pickupDate: tomorrow.toISOString().split('T')[0]\n    }));\n  };\n  const loadUserData = async () => {\n    if (!currentUser) return;\n    try {\n      let shipments = getDemoShipments();\n      try {\n        const response = await fetch(`http://localhost:3000/api/shipments/user/${currentUser.id}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n          }\n        });\n        if (response && response.ok) {\n          const data = await response.json();\n          shipments = data.shipments || [];\n        }\n      } catch {}\n      setUserShipments(shipments);\n      setFilteredShipments(shipments);\n    } catch {\n      setUserShipments([]);\n      setFilteredShipments([]);\n    }\n  };\n  const getDemoShipments = () => {\n    const existingDemo = localStorage.getItem(`demoShipments_${currentUser.id}`);\n    return existingDemo ? JSON.parse(existingDemo) : [];\n  };\n  const saveDemoShipments = () => {\n    if (!currentUser) return;\n    localStorage.setItem(`demoShipments_${currentUser.id}`, JSON.stringify(userShipments));\n  };\n  const updateDashboardStats = () => {\n    const activeShipments = userShipments.filter(s => ['active', 'in_transit', 'at_destination'].includes(s.status)).length;\n    const pendingBids = userShipments.filter(s => s.status === 'pending_bids').length;\n    const totalDelivered = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).length;\n    const totalSpent = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).reduce((sum, s) => sum + (s.final_amount || 0), 0);\n    setStats({\n      activeShipments,\n      pendingBids,\n      totalDelivered,\n      totalSpent\n    });\n  };\n  const toggleTheme = () => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    setTheme(newTheme);\n    document.body.className = `${newTheme}-theme`;\n    localStorage.setItem('theme', newTheme);\n  };\n  const logout = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    navigate('/login');\n  };\n  const switchToSection = section => {\n    setActiveSection(section);\n    if (section === 'my-shipments') setFilteredShipments(userShipments);\n  };\n  const refreshData = () => {\n    loadUserData();\n  };\n  const checkForUpdates = () => {\n    if (!currentUser) return;\n    const storedShipments = getDemoShipments();\n    if (JSON.stringify(storedShipments) !== JSON.stringify(userShipments)) setUserShipments(storedShipments);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setShipmentForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleCreateShipment = async e => {\n    e.preventDefault();\n    if (!shipmentForm.fromLocation || !shipmentForm.toLocation || !shipmentForm.packageType || !shipmentForm.packageWeight) {\n      alert('Please fill all required fields');\n      return;\n    }\n    const newShipment = {\n      id: Date.now(),\n      shipment_id: Date.now(),\n      shipper_id: currentUser.id,\n      shipper_name: currentUser.name,\n      shipper_email: currentUser.email,\n      shipper_phone: currentUser.phone,\n      from_location: shipmentForm.fromLocation,\n      to_location: shipmentForm.toLocation,\n      package_type: shipmentForm.packageType,\n      package_weight: parseFloat(shipmentForm.packageWeight),\n      package_description: shipmentForm.packageDescription,\n      vehicle_type: shipmentForm.vehicleType,\n      pickup_date: shipmentForm.pickupDate,\n      delivery_date: shipmentForm.deliveryDate,\n      handling_instructions: shipmentForm.handlingInstructions,\n      status: 'pending_bids',\n      bids_count: 0,\n      created_at: new Date().toISOString()\n    };\n    try {\n      await fetch('http://localhost:3000/api/shipments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: JSON.stringify(newShipment)\n      });\n    } catch {}\n    setUserShipments(prev => [...prev, newShipment]);\n    setShipmentForm({\n      fromLocation: '',\n      toLocation: '',\n      packageType: '',\n      packageWeight: '',\n      packageDescription: '',\n      vehicleType: '',\n      pickupDate: '',\n      deliveryDate: '',\n      handlingInstructions: ''\n    });\n    alert('✅ Shipment created successfully! Drivers can now bid on it.');\n    switchToSection('my-shipments');\n  };\n\n  // ----------- Bids Modal Core -----------\n  const viewBids = async shipment => {\n    try {\n      const response = await fetch(`http://localhost:3000/api/shipments/${shipment.shipment_id}/bids`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response && response.ok) {\n        const data = await response.json();\n        setModalState({\n          ...modalState,\n          bidsModal: true,\n          selectedShipment: shipment,\n          currentBids: data.bids\n        });\n      } else {\n        setModalState({\n          ...modalState,\n          bidsModal: true,\n          selectedShipment: shipment,\n          currentBids: []\n        });\n      }\n    } catch {\n      alert('Failed to load bids. Please try again.');\n    }\n  };\n  const acceptBid = async bid => {\n    var _ref, _bid$bid_amount, _bid$driver_id;\n    if (!window.confirm(`Accept bid of ₹${((_ref = (_bid$bid_amount = bid.bid_amount) !== null && _bid$bid_amount !== void 0 ? _bid$bid_amount : bid.amount) !== null && _ref !== void 0 ? _ref : 0).toLocaleString()} from ${((_bid$driver_id = bid.driver_id) === null || _bid$driver_id === void 0 ? void 0 : _bid$driver_id.name) || bid.driver_name}?`)) return;\n    try {\n      const response = await fetch(`http://localhost:3000/api/bids/${bid.bid_id}/accept`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        setModalState({\n          ...modalState,\n          bidsModal: false\n        });\n        alert('Bid accepted! Driver has been notified and trip has been created.');\n        refreshData();\n      } else {\n        alert('Failed to accept bid');\n      }\n    } catch {\n      alert('Network error. Please check your connection.');\n    }\n  };\n  const getStatusBadge = status => {\n    const badges = {\n      pending_bids: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-warning\",\n        children: \"Pending Bids\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }, this),\n      active: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-info\",\n        children: \"Active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }, this),\n      in_transit: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-primary\",\n        children: \"In Transit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }, this),\n      at_destination: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-primary\",\n        children: \"At Destination\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 23\n      }, this),\n      delivered: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-success\",\n        children: \"Delivered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 18\n      }, this),\n      completed: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-success\",\n        children: \"Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 18\n      }, this),\n      cancelled: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-error\",\n        children: \"Cancelled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 18\n      }, this)\n    };\n    return badges[status] || /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"badge\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 30\n    }, this);\n  };\n  const getVehicleTypeText = type => {\n    const types = {\n      small_truck: 'Small Truck',\n      medium_truck: 'Medium Truck',\n      large_truck: 'Large Truck',\n      trailer: 'Trailer',\n      pickup: 'Pickup Truck',\n      van: 'Van'\n    };\n    return types[type] || type;\n  };\n  if (!currentUser) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-spinner\",\n    children: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-spinner fa-spin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 61\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 28\n  }, this);\n\n  // --- Main JSX ---\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: modalState.bidsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setModalState({\n        ...modalState,\n        bidsModal: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Driver Bids\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setModalState({\n              ...modalState,\n              bidsModal: false\n            }),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shipment-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Route:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 20\n              }, this), \" \", (_modalState$selectedS = modalState.selectedShipment) === null || _modalState$selectedS === void 0 ? void 0 : _modalState$selectedS.from_location, \" \\u2192 \", (_modalState$selectedS2 = modalState.selectedShipment) === null || _modalState$selectedS2 === void 0 ? void 0 : _modalState$selectedS2.to_location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Package:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 20\n              }, this), \" \", (_modalState$selectedS3 = modalState.selectedShipment) === null || _modalState$selectedS3 === void 0 ? void 0 : _modalState$selectedS3.package_type, \" (\", (_modalState$selectedS4 = modalState.selectedShipment) === null || _modalState$selectedS4 === void 0 ? void 0 : _modalState$selectedS4.package_weight, \"kg)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), (modalState.currentBids || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-clipboard-list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Bids Yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drivers will place bids on this shipment soon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bids-list\",\n            children: modalState.currentBids.map((bid, index) => {\n              var _bid$driver_id2, _bid$driver_id3, _bid$driver_rating, _ref2, _bid$amount;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `bid-card ${index === 0 ? 'best-bid' : ''}`,\n                style: {\n                  border: index === 0 ? '2px solid #13d837' : '1px solid #222',\n                  background: '#17222b',\n                  borderRadius: '16px',\n                  marginBottom: '1.2rem',\n                  boxShadow: index === 0 ? '0 0 22px #16e03330' : '0 1px 4px #111',\n                  padding: '22px 26px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    marginBottom: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: '#13d837',\n                      fontSize: 20,\n                      width: 46,\n                      height: 46,\n                      borderRadius: 23,\n                      color: '#222',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontWeight: 700,\n                      marginRight: 18\n                    },\n                    children: (((_bid$driver_id2 = bid.driver_id) === null || _bid$driver_id2 === void 0 ? void 0 : _bid$driver_id2.name) || bid.driver_name || 'D')[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 700,\n                        fontSize: 18,\n                        color: '#fff'\n                      },\n                      children: ((_bid$driver_id3 = bid.driver_id) === null || _bid$driver_id3 === void 0 ? void 0 : _bid$driver_id3.name) || bid.driver_name || 'Unknown Driver'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: 14,\n                        color: '#ccb55b',\n                        marginTop: 2\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: 15,\n                          marginRight: 5\n                        },\n                        children: \"\\u2B50\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 29\n                      }, this), (_bid$driver_rating = bid.driver_rating) !== null && _bid$driver_rating !== void 0 ? _bid$driver_rating : '4.5', \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#aaa',\n                          marginLeft: 10\n                        },\n                        children: \"Experience: 0 months\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 58\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 25\n                  }, this), index === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: '#16e033',\n                      color: '#222',\n                      fontWeight: 700,\n                      padding: '2px 22px',\n                      borderRadius: '1rem',\n                      marginLeft: 'auto',\n                      fontSize: 13,\n                      textTransform: 'uppercase'\n                    },\n                    children: \"Lowest Bid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#29fd71',\n                    fontSize: 28,\n                    fontWeight: 800,\n                    margin: '9px 0 5px 0'\n                  },\n                  children: [\"\\u20B9\", ((_ref2 = (_bid$amount = bid.amount) !== null && _bid$amount !== void 0 ? _bid$amount : bid.bid_amount) !== null && _ref2 !== void 0 ? _ref2 : 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#aaa',\n                    marginBottom: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Vehicle:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 25\n                  }, this), \" \", bid.vehicle_type || getVehicleTypeText('small_truck'), \" \", bid.vehicle_number || '', \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginInline: 8\n                    },\n                    children: \"License:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 124\n                  }, this), \" \", bid.license_number || bid.license || '---']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#aaa',\n                    fontSize: 14,\n                    marginBottom: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Bid Time:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 25\n                  }, this), ' ', bid.createdat ? new Date(bid.createdat).toLocaleString() : bid.created_at ? new Date(bid.created_at).toLocaleString() : \"—\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), bid.message && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    borderLeft: '4px solid #16e033',\n                    margin: '10px 0 16px 0',\n                    color: '#9dffb5',\n                    background: '#16291d',\n                    padding: '7px 18px',\n                    borderRadius: '8px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: bid.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    marginTop: 12\n                  },\n                  children: [bid.status === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-success\",\n                    style: {\n                      minWidth: 170,\n                      fontWeight: 'bold',\n                      fontSize: 16,\n                      background: '#12d745',\n                      border: 'none'\n                    },\n                    onClick: () => acceptBid(bid),\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 29\n                    }, this), \"\\xA0Accept This Bid\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 27\n                  }, this), bid.status === 'accepted' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-success\",\n                    children: \"Accepted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 23\n                }, this)]\n              }, bid.id || bid.bid_id || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(ShipperDashboard, \"5zP40FiffBCMCydQzimNRRh8u2A=\", false, function () {\n  return [useNavigate];\n});\n_c = ShipperDashboard;\nexport default ShipperDashboard;\nvar _c;\n$RefreshReg$(_c, \"ShipperDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","ShipperDashboard","_s","_modalState$selectedS","_modalState$selectedS2","_modalState$selectedS3","_modalState$selectedS4","navigate","currentUser","setCurrentUser","activeSection","setActiveSection","theme","setTheme","userShipments","setUserShipments","filteredShipments","setFilteredShipments","statusFilter","setStatusFilter","modalState","setModalState","bidsModal","tripDetailModal","chatModal","ratingModal","selectedShipment","currentBids","shipmentForm","setShipmentForm","fromLocation","toLocation","packageType","packageWeight","packageDescription","vehicleType","pickupDate","deliveryDate","handlingInstructions","stats","setStats","activeShipments","pendingBids","totalDelivered","totalSpent","rating","setRating","ratingComment","setRatingComment","checkAuthentication","initializeDashboard","loadUserData","updateInterval","setInterval","checkForUpdates","refreshInterval","refreshData","clearInterval","length","updateDashboardStats","saveDemoShipments","token","localStorage","getItem","userData","user","JSON","parse","role","error","clear","getInitials","name","split","map","n","join","toUpperCase","savedTheme","document","body","className","tomorrow","Date","setDate","getDate","prev","toISOString","shipments","getDemoShipments","response","fetch","id","headers","ok","data","json","existingDemo","setItem","stringify","filter","s","includes","status","reduce","sum","final_amount","toggleTheme","newTheme","logout","removeItem","switchToSection","section","storedShipments","handleInputChange","e","value","target","handleCreateShipment","preventDefault","alert","newShipment","now","shipment_id","shipper_id","shipper_name","shipper_email","email","shipper_phone","phone","from_location","to_location","package_type","package_weight","parseFloat","package_description","vehicle_type","pickup_date","delivery_date","handling_instructions","bids_count","created_at","method","viewBids","shipment","bids","acceptBid","bid","_ref","_bid$bid_amount","_bid$driver_id","window","confirm","bid_amount","amount","toLocaleString","driver_id","driver_name","bid_id","getStatusBadge","badges","pending_bids","children","fileName","_jsxFileName","lineNumber","columnNumber","active","in_transit","at_destination","delivered","completed","cancelled","getVehicleTypeText","type","types","small_truck","medium_truck","large_truck","trailer","pickup","van","onClick","stopPropagation","index","_bid$driver_id2","_bid$driver_id3","_bid$driver_rating","_ref2","_bid$amount","style","border","background","borderRadius","marginBottom","boxShadow","padding","display","alignItems","fontSize","width","height","color","justifyContent","fontWeight","marginRight","marginTop","driver_rating","marginLeft","textTransform","margin","vehicle_number","marginInline","license_number","license","createdat","message","borderLeft","minWidth","_c","$RefreshReg$"],"sources":["C:/Users/Vinay/cargomate2/cargomate-react/src/pages/ShipperDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/shipper-dashboard.css';\r\n\r\nfunction ShipperDashboard() {\r\n  const navigate = useNavigate();\r\n\r\n  // Core state\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [activeSection, setActiveSection] = useState('dashboard');\r\n  const [theme, setTheme] = useState('dark');\r\n  const [userShipments, setUserShipments] = useState([]);\r\n  const [filteredShipments, setFilteredShipments] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n  const [modalState, setModalState] = useState({\r\n    bidsModal: false,\r\n    tripDetailModal: false,\r\n    chatModal: false,\r\n    ratingModal: false,\r\n    selectedShipment: null,\r\n    currentBids: []\r\n  });\r\n  const [shipmentForm, setShipmentForm] = useState({\r\n    fromLocation: '',\r\n    toLocation: '',\r\n    packageType: '',\r\n    packageWeight: '',\r\n    packageDescription: '',\r\n    vehicleType: '',\r\n    pickupDate: '',\r\n    deliveryDate: '',\r\n    handlingInstructions: ''\r\n  });\r\n  const [stats, setStats] = useState({\r\n    activeShipments: 0,\r\n    pendingBids: 0,\r\n    totalDelivered: 0,\r\n    totalSpent: 0\r\n  });\r\n\r\n  const [rating, setRating] = useState(0);\r\n  const [ratingComment, setRatingComment] = useState('');\r\n\r\n  useEffect(() => { checkAuthentication(); }, []);\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      initializeDashboard();\r\n      loadUserData();\r\n      const updateInterval = setInterval(checkForUpdates, 2000);\r\n      const refreshInterval = setInterval(refreshData, 60000);\r\n      return () => {\r\n        clearInterval(updateInterval);\r\n        clearInterval(refreshInterval);\r\n      };\r\n    }\r\n  }, [currentUser]);\r\n  useEffect(() => {\r\n    if (currentUser && userShipments.length >= 0) updateDashboardStats();\r\n  }, [userShipments, currentUser]);\r\n  useEffect(() => {\r\n    if (currentUser && userShipments.length >= 0) saveDemoShipments();\r\n  }, [userShipments, currentUser]);\r\n\r\n  const checkAuthentication = () => {\r\n    const token = localStorage.getItem('authToken');\r\n    const userData = localStorage.getItem('userData');\r\n    if (!token || !userData) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    try {\r\n      const user = JSON.parse(userData);\r\n      if (user.role !== 'shipper') {\r\n        navigate('/driver-dashboard');\r\n        return;\r\n      }\r\n      setCurrentUser(user);\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      navigate('/login');\r\n    }\r\n  };\r\n  const getInitials = name => name?.split(' ').map(n => n[0]).join('').toUpperCase() || '??';\r\n  const initializeDashboard = () => {\r\n    const savedTheme = localStorage.getItem('theme') || 'dark';\r\n    setTheme(savedTheme);\r\n    document.body.className = `${savedTheme}-theme`;\r\n    const tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1);\r\n    setShipmentForm(prev => ({ ...prev, pickupDate: tomorrow.toISOString().split('T')[0] }));\r\n  };\r\n  const loadUserData = async () => {\r\n    if (!currentUser) return;\r\n    try {\r\n      let shipments = getDemoShipments();\r\n      try {\r\n        const response = await fetch(`http://localhost:3000/api/shipments/user/${currentUser.id}`, {\r\n          headers: { 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n        });\r\n        if (response && response.ok) {\r\n          const data = await response.json();\r\n          shipments = data.shipments || [];\r\n        }\r\n      } catch {}\r\n      setUserShipments(shipments);\r\n      setFilteredShipments(shipments);\r\n    } catch {\r\n      setUserShipments([]); setFilteredShipments([]);\r\n    }\r\n  };\r\n  const getDemoShipments = () => {\r\n    const existingDemo = localStorage.getItem(`demoShipments_${currentUser.id}`);\r\n    return existingDemo ? JSON.parse(existingDemo) : [];\r\n  };\r\n  const saveDemoShipments = () => {\r\n    if (!currentUser) return;\r\n    localStorage.setItem(`demoShipments_${currentUser.id}`, JSON.stringify(userShipments));\r\n  };\r\n  const updateDashboardStats = () => {\r\n    const activeShipments = userShipments.filter(s => ['active', 'in_transit', 'at_destination'].includes(s.status)).length;\r\n    const pendingBids = userShipments.filter(s => s.status === 'pending_bids').length;\r\n    const totalDelivered = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).length;\r\n    const totalSpent = userShipments.filter(s => ['delivered', 'completed'].includes(s.status)).reduce((sum, s) => sum + (s.final_amount || 0), 0);\r\n    setStats({ activeShipments, pendingBids, totalDelivered, totalSpent });\r\n  };\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\r\n    setTheme(newTheme); document.body.className = `${newTheme}-theme`;\r\n    localStorage.setItem('theme', newTheme);\r\n  };\r\n  const logout = () => { localStorage.removeItem('authToken'); localStorage.removeItem('userData'); navigate('/login'); };\r\n  const switchToSection = section => {\r\n    setActiveSection(section);\r\n    if (section === 'my-shipments') setFilteredShipments(userShipments);\r\n  };\r\n  const refreshData = () => { loadUserData(); };\r\n  const checkForUpdates = () => {\r\n    if (!currentUser) return;\r\n    const storedShipments = getDemoShipments();\r\n    if (JSON.stringify(storedShipments) !== JSON.stringify(userShipments)) setUserShipments(storedShipments);\r\n  };\r\n  const handleInputChange = e => { const { name, value } = e.target; setShipmentForm(prev => ({ ...prev, [name]: value })); };\r\n  const handleCreateShipment = async e => {\r\n    e.preventDefault();\r\n    if (!shipmentForm.fromLocation || !shipmentForm.toLocation || !shipmentForm.packageType || !shipmentForm.packageWeight) {\r\n      alert('Please fill all required fields'); return;\r\n    }\r\n    const newShipment = {\r\n      id: Date.now(),\r\n      shipment_id: Date.now(),\r\n      shipper_id: currentUser.id,\r\n      shipper_name: currentUser.name,\r\n      shipper_email: currentUser.email,\r\n      shipper_phone: currentUser.phone,\r\n      from_location: shipmentForm.fromLocation,\r\n      to_location: shipmentForm.toLocation,\r\n      package_type: shipmentForm.packageType,\r\n      package_weight: parseFloat(shipmentForm.packageWeight),\r\n      package_description: shipmentForm.packageDescription,\r\n      vehicle_type: shipmentForm.vehicleType,\r\n      pickup_date: shipmentForm.pickupDate,\r\n      delivery_date: shipmentForm.deliveryDate,\r\n      handling_instructions: shipmentForm.handlingInstructions,\r\n      status: 'pending_bids',\r\n      bids_count: 0,\r\n      created_at: new Date().toISOString(),\r\n    };\r\n    try {\r\n      await fetch('http://localhost:3000/api/shipments', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${localStorage.getItem('authToken')}` },\r\n        body: JSON.stringify(newShipment)\r\n      });\r\n    } catch {}\r\n    setUserShipments(prev => [...prev, newShipment]);\r\n    setShipmentForm({\r\n      fromLocation: '', toLocation: '', packageType: '', packageWeight: '', packageDescription: '', vehicleType: '',\r\n      pickupDate: '', deliveryDate: '', handlingInstructions: ''\r\n    });\r\n    alert('✅ Shipment created successfully! Drivers can now bid on it.');\r\n    switchToSection('my-shipments');\r\n  };\r\n\r\n  // ----------- Bids Modal Core -----------\r\n  const viewBids = async shipment => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/api/shipments/${shipment.shipment_id}/bids`, {\r\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      if (response && response.ok) {\r\n        const data = await response.json();\r\n        setModalState({ ...modalState, bidsModal: true, selectedShipment: shipment, currentBids: data.bids });\r\n      } else {\r\n        setModalState({ ...modalState, bidsModal: true, selectedShipment: shipment, currentBids: [] });\r\n      }\r\n    } catch { alert('Failed to load bids. Please try again.'); }\r\n  };\r\n\r\n  const acceptBid = async bid => {\r\n    if (!window.confirm(`Accept bid of ₹${(bid.bid_amount ?? bid.amount ?? 0).toLocaleString()} from ${bid.driver_id?.name || bid.driver_name}?`)) return;\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/api/bids/${bid.bid_id}/accept`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${localStorage.getItem('authToken')}` }\r\n      });\r\n      if (response.ok) {\r\n        setModalState({ ...modalState, bidsModal: false });\r\n        alert('Bid accepted! Driver has been notified and trip has been created.');\r\n        refreshData();\r\n      } else { alert('Failed to accept bid'); }\r\n    } catch { alert('Network error. Please check your connection.'); }\r\n  };\r\n\r\n  const getStatusBadge = status => {\r\n    const badges = {\r\n      pending_bids: <span className=\"badge badge-warning\">Pending Bids</span>,\r\n      active: <span className=\"badge badge-info\">Active</span>,\r\n      in_transit: <span className=\"badge badge-primary\">In Transit</span>,\r\n      at_destination: <span className=\"badge badge-primary\">At Destination</span>,\r\n      delivered: <span className=\"badge badge-success\">Delivered</span>,\r\n      completed: <span className=\"badge badge-success\">Completed</span>,\r\n      cancelled: <span className=\"badge badge-error\">Cancelled</span>\r\n    };\r\n    return badges[status] || <span className=\"badge\">{status}</span>;\r\n  };\r\n  const getVehicleTypeText = type => {\r\n    const types = {\r\n      small_truck: 'Small Truck',\r\n      medium_truck: 'Medium Truck',\r\n      large_truck: 'Large Truck',\r\n      trailer: 'Trailer',\r\n      pickup: 'Pickup Truck',\r\n      van: 'Van'\r\n    };\r\n    return types[type] || type;\r\n  };\r\n\r\n  if (!currentUser) return <div className=\"loading-spinner\"><i className=\"fas fa-spinner fa-spin\"></i></div>;\r\n\r\n  // --- Main JSX ---\r\n  return (\r\n    <>\r\n      {/* ... HEADER, Main Layout, etc (snip, unchanged) ... */}\r\n\r\n      {/* Bids Modal */}\r\n      {modalState.bidsModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setModalState({ ...modalState, bidsModal: false })}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Driver Bids</h2>\r\n              <button className=\"close-btn\" onClick={() => setModalState({ ...modalState, bidsModal: false })}>\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"shipment-details\">\r\n                <p><strong>Route:</strong> {modalState.selectedShipment?.from_location} → {modalState.selectedShipment?.to_location}</p>\r\n                <p><strong>Package:</strong> {modalState.selectedShipment?.package_type} ({modalState.selectedShipment?.package_weight}kg)</p>\r\n              </div>\r\n              {(modalState.currentBids || []).length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <i className=\"fas fa-clipboard-list\"></i>\r\n                  <h3>No Bids Yet</h3>\r\n                  <p>Drivers will place bids on this shipment soon</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"bids-list\">\r\n                  {modalState.currentBids.map((bid, index) => (\r\n                    <div\r\n                      key={bid.id || bid.bid_id || index}\r\n                      className={`bid-card ${index === 0 ? 'best-bid' : ''}`}\r\n                      style={{\r\n                        border: index === 0 ? '2px solid #13d837' : '1px solid #222', background: '#17222b',\r\n                        borderRadius: '16px', marginBottom: '1.2rem', boxShadow: index === 0 ? '0 0 22px #16e03330' : '0 1px 4px #111', padding: '22px 26px'\r\n                      }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\r\n                        <div style={{\r\n                          background: '#13d837', fontSize: 20, width: 46, height: 46, borderRadius: 23, color: '#222', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 700, marginRight: 18\r\n                        }}>{(bid.driver_id?.name || bid.driver_name || 'D')[0]}</div>\r\n                        <div>\r\n                          <div style={{ fontWeight: 700, fontSize: 18, color: '#fff' }}>\r\n                            {bid.driver_id?.name || bid.driver_name || 'Unknown Driver'}\r\n                          </div>\r\n                          <div style={{ fontSize: 14, color: '#ccb55b', marginTop: 2 }}>\r\n                            <span style={{ fontSize: 15, marginRight: 5 }}>⭐</span>\r\n                            {bid.driver_rating ?? '4.5'} <span style={{ color: '#aaa', marginLeft: 10 }}>Experience: 0 months</span>\r\n                          </div>\r\n                        </div>\r\n                        {index === 0 && <div style={{ background: '#16e033', color: '#222', fontWeight: 700, padding: '2px 22px', borderRadius: '1rem', marginLeft: 'auto', fontSize: 13, textTransform: 'uppercase' }}>Lowest Bid</div>}\r\n                      </div>\r\n                      <div style={{ color: '#29fd71', fontSize: 28, fontWeight: 800, margin: '9px 0 5px 0' }}>₹{(bid.amount ?? bid.bid_amount ?? 0).toLocaleString()}</div>\r\n                      <div style={{ color: '#aaa', marginBottom: 6 }}>\r\n                        <b>Vehicle:</b> {bid.vehicle_type || getVehicleTypeText('small_truck')} {bid.vehicle_number || ''} <b style={{ marginInline:8}}>License:</b> {bid.license_number || bid.license || '---'}\r\n                      </div>\r\n                      <div style={{ color: '#aaa', fontSize: 14, marginBottom: 6 }}>\r\n                        <b>Bid Time:</b>{' '}\r\n                        {bid.createdat\r\n                          ? new Date(bid.createdat).toLocaleString()\r\n                          : bid.created_at\r\n                            ? new Date(bid.created_at).toLocaleString()\r\n                            : \"—\"}\r\n                      </div>\r\n                      {bid.message && <div style={{\r\n                        borderLeft: '4px solid #16e033',\r\n                        margin: '10px 0 16px 0', color: '#9dffb5', background: '#16291d', padding: '7px 18px', borderRadius: '8px'\r\n                      }}>\r\n                        <em>{bid.message}</em>\r\n                      </div>}\r\n                      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', marginTop: 12 }}>\r\n                        {bid.status === 'pending' && (\r\n                          <button className=\"btn btn-success\" style={{ minWidth: 170, fontWeight: 'bold', fontSize: 16, background: '#12d745', border: 'none' }} onClick={() => acceptBid(bid)}>\r\n                            <i className=\"fas fa-check\"></i>&nbsp;Accept This Bid\r\n                          </button>\r\n                        )}\r\n                        {bid.status === 'accepted' && (\r\n                          <span className=\"badge badge-success\">Accepted</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ShipperDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}